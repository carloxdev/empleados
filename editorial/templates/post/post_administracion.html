{% extends 'master.html' %}
{% load static from staticfiles %}
{% load custom_tags %}
{% block titulo %} Administraci贸n de Noticias {% endblock titulo %}
{% block title-page %} Administraci贸n de Noticias {% endblock title-page %}
{% block css %}
{% endblock css %}

{% block contenido %}
<div class="be-content">

    <div class="page-head nova-page-head">
        <h2 class="page-head-title nova-title">Administraci贸n de Noticias</h2>
        <ol class="breadcrumb page-head-nav pull-right">
            <li><a href="{% url 'home:inicio' %}">Inicio</a></li>
            <li id="menu" data-opcion="comunicacion_admin" class="active">Administraci贸n de Noticias</li>
        </ol>
    </div>
    <div class="main-content container-fluid nova-main-content">
        <div class="row">
            <div class="col-xs-12 nova-col">
                <div class="panel panel-default panel-table nova-panel-table">
                    <div class="panel-heading panel-border nova-panel-heading">
                        <div class="widget-head nova-widget-head">
                            <div class="nova-button-toolbar">

                                    <form action="" method="GET">
                                        <div class="col-md-5 input-group nova-block">
                                            <span class="input-group-btn">
                                              <button type="submit" id="boton_buscar" class="btn btn-info btn-flat">
                                                <i class="fa fa-search"></i>
                                                Buscar
                                              </button>
                                            </span>
                                            <input type="text" class="form-control input-xs" name="q" placeholder="Buscar post..." value="{{ request.GET.q }}">
                                        </div>
                                    </form>
                                    <a href="{% url 'editorial:post_nuevo' %}" class="btn nova-btn btn-rounded btn-space btn-default nova-block" id="boton_nuevo"><i class="icon icon-left mdi mdi-plus-circle nova-black"></i> Nuevo post
                                    </a>
                                <!--<span class="title hidden-xs">Registros</span>-->
                            </div>
                
                        {% if registros %}
                            <div class="legal-article-lista">
                                <div class="list-group">
                                {% for registro in registros %}
                                    <a href="{% url 'editorial:post_editar' registro.pk %}" class="list-group-item">{{ registro.titulo }}<span class="badge {% if registro.status == "PUB" %} badge-publicado {% else %} badge-captura {% endif %}"> {{ registro.get_status_display }} </span>
                                    </a>
                                {% endfor %}
                                </div>

                                <div class="text-center">
                                    <ul class="pagination pagination-sm no-margin legal-paginador">
                                        {% if registros.has_previous %}
                                            <li><a href="?{{ page_request_var }}={{ registros.previous_page_number }}&q={{ request.GET.q }}">&laquo;</a></li>
                                        {% endif %}

                                        {% for i in registros.paginator.page_range %}
                                            <li {% if registros.number == i %} class="active" {% endif %}>
                                                <a href="?page={{i}}&q={{ request.GET.q }}">{{ i }}</a>
                                            </li>
                                        {% endfor %}

                                        {% if registros.has_next %}
                                            <li><a href="?page={{ registros.next_page_number }}&q={{ request.GET.q }}">&raquo;</a></li>
                                        {% endif %}
                                    </ul>
                                </div>
                            </div>

                        {% else %}

                            <div class="legal-article-avance text-center">
                                <h1>Sin posts</h1>
                            </div>

                        {% endif %}

                  </div> <!-- end panel-heading -->
            </div> <!-- end panel panel-default -->
        </div><!-- end row -->
    </div> <!-- end main content -->
</div> <!-- end be content -->

{% endblock contenido %}

{% block scripts %}

{% endblock scripts %}
