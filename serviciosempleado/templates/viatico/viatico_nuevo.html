{% extends 'master.html' %}

{% load static from staticfiles %}

{% block titulo %} Viaticos {% endblock titulo %}

{% block title-page %} Nueva Solicitud de Viatico {% endblock title-page %}

{% block css %}

    <link rel="stylesheet" href="{% static 'theme/lib/datetimepicker/css/bootstrap-datetimepicker.min.css' %}" type="text/css"/>

{% endblock css %}

{% block contenido %}

<div class="be-content">

    <div class="page-head nova-page-head">
        <h2 class="page-head-title nova-title">Nueva Solicitud</h2>
        <ol class="breadcrumb page-head-nav pull-right">
            <li><a href="{% url 'home:inicio' %}">Inicio</a></li>
            <li><a href="{% url 'serviciosempleado:viatico_lista' %}">Viaticos</a></li>
            <li id="menu" data-opcion="viaticos_lista" class="active">Nuevo</li>
        </ol>
    </div>

	<!-- Targeta Formulario -->
    <div class="main-content container-fluid nova-main-content">

        <div class="row wizard-row">
            <div class="col-md-12 fuelux">
                <form class="block-wizard panel panel-default" action="" method="POST" > {% csrf_token %}
                    
                    <div id="wizard1" class="wizard wizard-ux">
                        <ul class="steps">

                            <li class="active">Numero:</li>

                        </ul>
                        <div class="actions">
                            <button type="button" class="btn btn-xs btn-prev btn-default nova-active-tab">General</button>
                            <button type="button" class="btn btn-xs btn-next btn-default">Lineas</button>
                        </div>
                        <div class="step-content">
                            <div data-step="1" class="step-pane active">

                                <div class="form-horizontal group-border-dashed">

                                    <div class="form-group no-padding">
                                        <div class="col-sm-7">
                                            <h5 class="wizard-title">Informacion de la solicitud:</h5>
                                        </div>
                                    </div>

                                    {{ form.non_field_errors }} 

                                    <div class="form-group">
                                        
                                        <label class="col-sm-3 control-label" 
                                            for="{{ form.empleado_clave.id_for_label }}">
                                            {{ form.empleado_clave.label }}
                                        </label>
                                        <div class="col-sm-6 xs-pt-5">
                                            {{ form.empleado_clave }}
                                        </div>
                                        {% for error in form.empleado_clave.errors %}
                                            <span class="help-block">{{ error }}</span>
                                        {% endfor %}
                                    </div>

                                    <div class="form-group">
                                        <label class="col-sm-3 control-label" 
                                            for="{{ form.unidad_negocio_clave.id_for_label }}">
                                            {{ form.unidad_negocio_clave.label }}
                                        </label>
                                        <div class="col-sm-6 xs-pt-5">
                                            {{ form.unidad_negocio_clave }}
                                        </div> 
                                        {% for error in form.unidad_negocio_clave.errors %}
                                            <span class="help-block">{{ error }}</span>
                                        {% endfor %}                                        
                                    </div>

                                    <div class="form-group">

                                        <label class="col-sm-3 control-label">
                                            Fecha partida/regreso
                                        </label>

                                        <div class="col-sm-3 xs-pt-5">
                                            <div class="input-group date" 
                                            data-min-view="2" 
                                            data-date-format="yyyy-mm-dd"
                                            id="id_fecha_partida_input">
                                                {{ form.fecha_partida }}
                                                <span class="input-group-addon nova-addon-button">
                                                    <span class="glyphicon glyphicon-calendar"></span>
                                                </span>
                                            </div>
                                        </div> 
                                        {% for error in form.fecha_partida.errors %}
                                            <span class="help-block">{{ error }}</span>
                                        {% endfor %}

                                        <div class="col-sm-3 xs-pt-5">
                                            <div class="input-group date" 
                                            data-min-view="2" 
                                            data-date-format="yyyy-mm-dd"
                                            id="id_fecha_regreso_input">
                                                {{ form.fecha_regreso }}
                                                <span class="input-group-addon nova-addon-button">
                                                    <span class="glyphicon glyphicon-calendar"></span>
                                                </span>
                                            </div>
                                        </div>
                                        {% for error in form.fecha_regreso.errors %}
                                            <span class="help-block">{{ error }}</span>
                                        {% endfor %}

                                        
                                    </div>

                                    <div class="form-group">
                                        <label class="col-sm-3 control-label" 
                                            for="{{ form.ciudad_destino.id_for_label }}">
                                            {{ form.ciudad_destino.label }}
                                        </label>
                                        <div class="col-sm-6 xs-pt-5">
                                            {{ form.ciudad_destino }}
                                        </div> 
                                        {% for error in form.ciudad_destino.errors %}
                                            <span class="help-block">{{ error }}</span>
                                        {% endfor %}
                                    </div>

                                    <div class="form-group">
                                        <label class="col-sm-3 control-label" 
                                            for="{{ form.proposito_viaje.id_for_label }}">
                                            {{ form.proposito_viaje.label }}
                                        </label>
                                        <div class="col-sm-6 xs-pt-5">
                                            {{ form.proposito_viaje }}
                                        </div>
                                        {% for error in form.proposito_viaje.errors %}
                                            <span class="help-block">{{ error }}</span>
                                        {% endfor %}                                        
                                    </div>

                                    <div class="form-group no-padding">
                                        <div class="col-sm-7">
                                            <h5 class="wizard-title">Informacion de la autorizacion:</h5>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>

                    </div>
                    <!-- Botones -->
                    <div class="modal-footer nova-modal-footer">

                        <div class="row col-sm-12">

                            <button type="button" id="boton_limpiar" class="btn btn-default pull-left">
                                <i class="icon mdi mdi-arrow-left"></i>
                                Regresar
                            </button>                        
                            
                            <button type="submit" id="boton_buscar" class="btn nova-btn btn-primary btn-lg pull-right">
                                <i class="icon icon-left mdi mdi-save nova-white"></i>
                                Guardar Encabezado
                            </button>
                        </div>
                    </div>

                    <!-- Ocultos -->
                    <div>
                        {{ form.empleado_descripcion }}
                        {{ form.unidad_negocio_descripcion }}
                    </div>                    

                </form>
            </div>
        </div>

    </div>
</div>

{% endblock contenido %}

{% block scripts %}

    <!-- Theme -->
    <script src="{% static 'theme/lib/jquery-ui/jquery-ui.min.js' %}"></script>
    <script src="{% static 'theme/lib/moment.js/min/moment.min.js' %}"></script>
    <script src="{% static 'theme/lib/datetimepicker/js/bootstrap-datetimepicker.min.js' %}"></script>
    <script src="{% static 'theme/lib/datetimepicker/js/locales/bootstrap-datetimepicker.es.js' %}"></script>
    <script src="{% static 'theme/lib/jquery.maskedinput/jquery.maskedinput.min.js' %}"></script>

    <!-- InputMask -->
    <script src="{% static 'libs/plugins/input-mask/jquery.inputmask.js' %}"></script>

	<!-- Nova -->
	<script src="{% static 'viatico/viatico_formulario.js' %}"></script>      

{% endblock scripts %}

