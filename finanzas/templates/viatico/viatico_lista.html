{% extends 'master.html' %}

{% load static from staticfiles %}

{% block titulo %} Viaticos {% endblock titulo %}

{% block title-page %} Viatico Solicitados {% endblock title-page %}

{% block css %}

    <!-- Kendo -->
    <link rel="stylesheet" href="{% static 'libs/kendo/2015.2.624/styles/kendo.rtl.min.css' %}"/>
    <link rel="stylesheet" href="{% static 'libs/kendo/2015.2.624/styles/kendo.common-bootstrap.min.css' %}"/>
    <link rel="stylesheet" href="{% static 'libs/kendo/2015.2.624/styles/kendo.bootstrap.min.css' %}"/>

    <!-- Theme -->
    <link rel="stylesheet" href="{% static 'theme/lib/datetimepicker/css/bootstrap-datetimepicker.min.css' %}"/>

    <!-- Nova -->
    <link rel="stylesheet" href="{% static 'grid.css' %}"/>

{% endblock css %}

{% block contenido %}

<div class="be-content">

	<div class="page-head">
		<h2 class="page-head-title">Solicitudes</h2>
		<ol class="breadcrumb page-head-nav">
			<li><a href="{% url 'home:inicio' %}">Inicio</a></li>
			<li class="active">Solicitudes</li>
		</ol>	
	</div>

    <div class="main-content container-fluid">  
		<div class="col-md-12">
                <div class="panel panel-default panel-table">
                    <div class="panel-heading panel-border nova-panel-heading"> 
                        <div class="tools pull-right nova-tools" id="toolbar">

                            <a href="{% url 'finanzas:viatico_nuevo' %}" 
                                class="btn nova-btn btn-rounded btn-space btn-default" id="boton_nuevo">
                                <i class="icon icon-left mdi mdi-plus-circle nova-black"></i>Nuevo 
                            </a>

                            <a href="#ventana_filtro" 
                                class="btn nova-btn btn-rounded btn-space btn-primary" data-toggle="modal" id="boton_filtro">
                                <i class="icon icon-left mdi mdi-search nova-white"></i>Filtros
                            </a>
                            
                            <button class="btn nova-btn btn-rounded btn-space btn-success" id="boton_excel">
                                <i class="icon icon-left mdi mdi-download nova-white"></i>Exportar
                            </button>
                        </div>
                        <div class="title hidden-xs">Registros</div>
                    </div>
                <div id="grid_resultados">
                </div>
              </div>
        </div>
	</div>

    <!-- PopUp -->
    <div id="ventana_filtro" tabindex="-1" role="dialog" class="modal fade colored-header colored-header-primary in">
          <div class="modal-dialog custom-width">
            <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" data-dismiss="modal" aria-hidden="true" class="close md-close"><span class="mdi mdi-close"></span></button>
                        <h3 class="modal-title">Filtro de b√∫squeda</h3>
                    </div>
                    
                    <div class="modal-body">

                        <form role="form" action=""> {% csrf_token %}

                            <div class="form-group col-sx-12">
                                <label for="{{ form.empleado.id_for_label }}">Empleado</label>
                                {{ form.empleado }}
                            </div> 
                               
                            <div class="form-group col-sx-12">
                                <label for="{{ form.unidad_negocio.id_for_label }}">Unidad de negocio</label>
                                {{ form.unidad_negocio }}
                            </div>

                            <div class="form-group col-sx-12">
                                <label for="{{ form.ciudad_destino.id_for_label }}">Ciudad de destino</label>
                                {{ form.ciudad_destino }}
                            </div>

                            <div class="form-group col-sx-12">
                                <label for="{{ form.autorizador.id_for_label }}">Autorizador</label>
                                {{ form.autorizador }}
                            </div>
                            
                            <div class="form-group col-sx-12 col-sm-6 col-md-6">
                                <label for="{{ form.fecha_partida_inicio.id_for_label }}">Fecha de partida inicio: </label>
                                <div data-date-format="yyyy-mm-dd" class="input-group date datetimepicker">
                                    {{ form.fecha_partida_inicio }}
                                    <span class="input-group-addon btn btn-primary">
                                        <i class="icon-th mdi mdi-calendar"></i>
                                    </span>
                                </div>
                            </div>

                            <div class="form-group col-sx-12 col-sm-6 col-md-6">
                                <label for="{{ form.fecha_partida_fin.id_for_label }}">Fecha de partida Fin: </label>
                                <div data-min-view="2" data-date-format="yyyy-mm-dd" class="input-group date datetimepicker">
                                    {{ form.fecha_partida_fin }}
                                    <span class="input-group-addon btn btn-primary">
                                        <i class="icon-th mdi mdi-calendar"></i>
                                    </span>
                                </div>
                            </div>

                            <div class="form-group col-sx-12 col-sm-6 col-md-6">
                                <label for="{{ form.fecha_regreso_inicio.id_for_label }}">Fecha de regreso inicio: </label>
                                <div data-min-view="2" data-date-format="yyyy-mm-dd" class="input-group date datetimepicker">
                                    {{ form.fecha_regreso_inicio }}
                                    <span class="input-group-addon btn btn-primary">
                                        <i class="icon-th mdi mdi-calendar"></i>
                                    </span>
                                </div>
                            </div>

                            <div class="form-group col-sx-12 col-sm-6 col-md-6">
                                <label for="{{ form.fecha_regreso_fin.id_for_label }}">Fecha de regreso fin: </label>
                                <div data-min-view="2" data-date-format="yyyy-mm-dd" class="input-group date datetimepicker">
                                    {{ form.fecha_regreso_fin }}
                                    <span class="input-group-addon btn btn-primary">
                                        <i class="icon-th mdi mdi-calendar"></i>
                                    </span>
                                </div>
                            </div>

                        </form>       
                    </div><!-- Modal body-->

                    <div class="modal-footer">
                        <div class="row col-sm-12">
                            <button type="button" data-dismiss="modal" class="btn nova-btn btn-default">Cancelar</button>
                            <button type="submit" id="boton_buscar" class="btn nova-btn btn-primary btn-lg">
                                <i class="icon icon-left mdi mdi-search nova-white"></i>
                                Buscar
                            </button>
                       </div> 
                    </div>
                </div> <!-- Modal content-->
              </div> <!-- Modal dialog -->
    </div><!-- Modal -->

</div>

{% endblock contenido %}

{% block scripts %}

    <!-- Kendo Js -->
    <script src="{% static 'libs/kendo/2015.2.624/js/cultures/kendo.culture.es-MX.min.js' %}"></script>
    <script src="{% static 'libs/kendo/2015.2.624/js/kendo.web.min.js' %}"></script>


    <!-- Theme -->
    <script src="{% static 'theme/lib/datetimepicker/js/bootstrap-datetimepicker.min.js' %}"></script>
    <script src="{% static 'theme/lib/jquery-ui/jquery-ui.min.js' %}"></script>
    <script src="{% static 'theme/lib/moment.js/min/moment.min.js' %}"></script>

    <!-- NOVA -->
    <script src="{% static 'viatico/viatico_lista.js' %}"></script>
  
{% endblock scripts %}
